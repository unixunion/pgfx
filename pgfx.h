#ifndef _PSIMAX_GFX_H
#define _PSIMAX_GFX_H

/* 

https://code.google.com/p/u8glib/


// EXAMPLE

// pins 
// OLED Display
#define OLED_MOSI  1
#define OLED_CLK   2
#define OLED_DC    4
#define OLED_CS    3
#define OLED_RESET 5

// driver
U8GLIB_SSD1306_128X64 display(OLED_CLK, OLED_MOSI, OLED_CS, OLED_DC, OLED_RESET);

// setup
// display.setFont(u8g_font_profont12);
// display.setFontPosTop();

// Gauges
pgfx_HBAR fbar = pgfx_HBAR( 0, 0,20,64,"FUEL",display);
pgfx_HBAR mbar = pgfx_HBAR(26, 0,20,64,"MONO",display);
pgfx_HBAR ebar = pgfx_HBAR(52, 0,20,64,"ELEC",display);
pgfx_HBAR gbar = pgfx_HBAR(78, 0,20,64,"G's",display);

// single bargraphs
fbar.update(VData.LiquidFuelS, VData.LiquidFuelTotS, VData.LiquidFuel, VData.LiquidFuelTot);
mbar.update(VData.MonoProp, VData.MonoPropTot);
ebar.update(VData.ECharge, VData.EChargeTot);
gbar.update(VData.G, 15);
display.display();

*/

#include <U8glib.h>

// common stubs for all hud elements
class pgfx {
public:
	// methods
	virtual void update(int value){};
	virtual void update(float value){};
	virtual void update(float value, float max){};
	virtual void update(float v1, float m1, float v2, float m2){};
	inline void init(uint8_t x, uint8_t y, uint8_t w, uint8_t h, U8GLIB_SSD1306_128X64 &display) {
		_x = (uint8_t)x;
		_y = (uint8_t)y;
		_width = (uint8_t)w;
		_height = (uint8_t)h;
		_display = &display;
	}

protected:
	// vars
	uint8_t _width, _height, _x, _y;
	U8GLIB_SSD1306_128X64 * _display;
};


class pgfx_HBAR  : public pgfx  {
public:

	inline pgfx_HBAR(int x, int y, int w, int h, char * name, U8GLIB_SSD1306_128X64 &display) 
	{
		pgfx::init(x, y, w, h, display);
		_name = name;
	}

	void
	update(float value, float max),
	update(float v1, float m1, float v2, float m2);

protected:
	char * _name;
};

class pgfx_BUTTON  : public pgfx {

public:
	inline pgfx_BUTTON(int x, int y, int w, int h, char * name, U8GLIB_SSD1306_128X64 &display)
	{
		pgfx::init(x, y, w, h, display);
		_name = name;
	}

protected:
	char * _name;

};



#define logo_width 128
#define logo_height 64
static unsigned char logo_bits[] U8G_PROGMEM = {
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x03,
   0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0xfc, 0x07, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x0f, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x0e,
   0x1f, 0xce, 0x3d, 0x0f, 0x1e, 0x8e, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x1c, 0x8e, 0x3f, 0xce, 0xff, 0x9f, 0x7f, 0xdc, 0x01, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0xcf, 0x71, 0xce, 0xf3, 0x9c,
   0x73, 0xfc, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xc7,
   0x03, 0xce, 0x71, 0x1c, 0x70, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0xfc, 0xc3, 0x1f, 0xce, 0x71, 0x1c, 0x7f, 0x70, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x7f, 0xce, 0x71, 0x9c,
   0x77, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x00,
   0x78, 0xce, 0x71, 0x9c, 0x73, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x1c, 0xc0, 0x71, 0xce, 0x71, 0x9c, 0x73, 0xfc, 0x01, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x80, 0x3f, 0xce, 0x71, 0x9c,
   0x7f, 0xde, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x00,
   0x1f, 0xce, 0x71, 0x1c, 0xef, 0x8e, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0xc0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0x03, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0x03,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0xf0, 0x07, 0x3e, 0xdc, 0xf0, 0x80, 0x0f, 0x77, 0xe0, 0x81,
   0x0f, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x70, 0x07, 0x7f, 0xfc, 0xfc, 0xc3,
   0x1f, 0xff, 0xf8, 0xc7, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x70, 0x87,
   0xf7, 0xfc, 0x9c, 0xe3, 0x38, 0xef, 0x39, 0xc7, 0x3d, 0xef, 0x01, 0x00,
   0x00, 0x00, 0x38, 0x8e, 0xe3, 0x3c, 0x0e, 0xe7, 0x01, 0xc7, 0x01, 0xe7,
   0x38, 0xc7, 0x01, 0x00, 0x00, 0x00, 0x38, 0x8e, 0xff, 0x1c, 0x0e, 0xe7,
   0x0f, 0xc7, 0xf1, 0xe7, 0x00, 0xff, 0x01, 0x00, 0x00, 0x00, 0xf8, 0x8f,
   0xff, 0x1c, 0x0e, 0x87, 0x3f, 0xc7, 0x79, 0xe7, 0x00, 0xff, 0x01, 0x00,
   0x00, 0x00, 0xfc, 0x9f, 0x03, 0x1c, 0x0e, 0x07, 0x3c, 0xc7, 0x39, 0xe7,
   0x38, 0x07, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x9c, 0xe7, 0x1c, 0x9c, 0xe3,
   0x38, 0xef, 0x39, 0xc7, 0x39, 0xcf, 0x01, 0x00, 0x00, 0x00, 0x1c, 0x1c,
   0x7f, 0x1c, 0xfc, 0xc3, 0x1f, 0xff, 0xf8, 0xc7, 0x1f, 0xfe, 0x00, 0x00,
   0x00, 0x00, 0x0e, 0x38, 0x3e, 0x1c, 0xf0, 0x80, 0x0f, 0x77, 0xf0, 0x8e,
   0x0f, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00 };



#endif